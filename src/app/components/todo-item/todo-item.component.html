<li class="todo-item" [class.completed]="todo.completed">
	<div class="todo-content">
		<!-- Edit Mode -->
		<div *ngIf="isEditing" class="edit-mode">
			<input type="text" [value]="editText" (input)="onEditTextChange($any($event.target).value)"
				(keyup.enter)="onSaveEdit()" (keyup.escape)="onCancelEdit()" class="edit-input">
		</div>

		<!-- View Mode -->
		<div *ngIf="!isEditing" class="view-mode">
			<div class="todo-text">
				{{ todo.todo }}
				<span class="status-badge" [class.status-completed]="todo.completed"
					[class.status-pending]="!todo.completed">
					{{ todo.completed ? 'âœ“ HoÃ n thÃ nh' : 'â—‹ ChÆ°a xong' }}
				</span>
			</div>
			<div class="todo-meta">
				<span class="meta-item">ğŸ†” ID: {{ todo.id }}</span>
				<span class="meta-divider">|</span>
				<span class="meta-item">ğŸ‘¤ User: {{ todo.userId }}</span>
			</div>
		</div>
	</div>

	<div class="todo-actions">
		<!-- Edit Mode Actions -->
		<ng-container *ngIf="isEditing">
			<button class="btn-success" (click)="onSaveEdit()" title="LÆ°u thay Ä‘á»•i">
				ğŸ’¾ LÆ°u
			</button>
			<button class="btn-secondary" (click)="onCancelEdit()" title="Há»§y chá»‰nh sá»­a">
				âŒ Há»§y
			</button>
		</ng-container>

		<!-- View Mode Actions -->
		<ng-container *ngIf="!isEditing">
			<button class="btn-success" (click)="onToggleComplete()"
				[title]="todo.completed ? 'ÄÃ¡nh dáº¥u chÆ°a xong' : 'ÄÃ¡nh dáº¥u hoÃ n thÃ nh'">
				{{ todo.completed ? 'â†©ï¸ ChÆ°a xong' : 'âœ“ HoÃ n thÃ nh' }}
			</button>
			<button class="btn-warning" (click)="onStartEdit()" title="Chá»‰nh sá»­a todo">
				âœï¸ Sá»­a
			</button>
			<button class="btn-danger" (click)="onDelete()" title="XÃ³a todo">
				ğŸ—‘ï¸ XÃ³a
			</button>
		</ng-container>
	</div>
</li>